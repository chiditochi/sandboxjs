//const fs = require('node:fs');
//const path = require('node:path')
import path from 'node:path';
import { fileURLToPath } from 'node:url';
import * as fs from 'node:fs';

const __filename = fileURLToPath(import.meta.url); // get the resolved path to the file
const __dirname = path.dirname(__filename); // get the name of the directory


const request = ['7058564',
    '7360420',
    '7360428',
    '7362480',
    '7364499',
    '7368435',
    '7377381',
    '7377571',
    '7378094',
    '7378102',
    '7378166',
    '7378887',
    '7380874',
    '7381327',
    '7381368',
    '7381853',
    '7381900',
    '7381948',
    '7382435',
    '7382453',
    '7382540',
    '7382710',
    '7382812',
    '7382973',
    '7383196',
    '7383285',
    '7383447',
    '7383588',
    '7384875',
    '7385105',
    '7385657',
    '7385740',
    '7385863',
    '7386122',
    '7386189',
    '7386602',
    '7386876',
    '7386884',
    '7386891',
    '7386996',
    '7387128',
    '7387381',
    '7387477',
    '7387608',
    '7387635',
    '7387969',
    '7388153',
    '7390413',
    '7390849',
    '7392476',
    '7392607',
    '7392752',
    '7394151',
    '7394321',
    '7394326',
    '7394772',
    '7395290',
    '7395642',
    '7396074',
    '7397111',
    '7402474',
    '7479899',
    '7480978',
    '7481052',
    '7482221',
    '7492309',
    '7492703',
    '7492831',
    '7495022',
    '7495402',
    '7495718',
    '7496676',
    '7496704',
    '7496705',
    '7496712',
    '7496752',
    '7496832',
    '7496866',
    '7496902',
    '7496911',
    '7496950',
    '7496997',
    '7497035',
    '7497043',
    '7497047',
    '7497085',
    '7497092',
    '7497135',
    '7497410',
    '7497419',
    '7497663',
    '7497683',
    '7497917',
    '7497943',
    '7498065',
    '7498158',
    '7498175',
    '7498205',
    '7498210',
    '7498211',
    '7498219',
    '7498233',
    '7498234',
    '7498235',
    '7498236',
    '7498295',
    '7498353',
    '7498397',
    '7498398',
    '7498441',
    '7498462',
    '7498485',
    '7498498',
    '7498504',
    '7498530',
    '7498568',
    '7498571',
    '7498576',
    '7498598',
    '7498677',
    '7498697',
    '7498700',
    '7498703',
    '7498717',
    '7498728',
    '7498737',
    '7498741',
    '7498936',
    '7498947',
    '7498979',
    '7498990',
    '7498991',
    '7498996',
    '7499002',
    '7499003',
    '7499004',
    '7499005',
    '7499007',
    '7499017',
    '7499034',
    '7499046',
    '7499047',
    '7499082',
    '7499096',
    '7499144',
    '7499162',
    '7499178',
    '7499197',
    '7499278',
    '7499289',
    '7499296',
    '7499322',
    '7544956',
    '7547781',
    '7555378',
    '7556140',
    '7614714',
    '7617337',
    '7616518',
    '7617936',
    '7617468',
    '7622016',
    '7622260',
    '7622331',
    '7621218',
    '7623515',
    '7624239',
    '7624699',
    '7625324',
    '7625351',
    '7625742',
    '7626309',
    '7626846',
    '7628310',
    '7628533',
    '7630135',
    '7630427',
    '7630855',
    '7631645',
    '7629730',
    '7632013',
    '7632559',
    '7633557',
    '7633740',
    '7633743',
    '7634161',
    '7635293',
    '7635772',
    '7636858',
    '7637073',
    '7637543',
    '7638984',
    '7639250',
    '7640284',
    '7638860',
    '7640290',
    '7640606',
    '7641632',
    '7641855',
    '7642501',
    '7642633',
    '7642746',
    '7643807',
    '7643817',
    '7644376',
    '7645004',
    '7645246',
    '7645897',
    '7648010',
    '7648227',
    '7648806',
    '7670910',
    '7671146',
    '7673161',
    '7673396',
    '7674807',
    '7670885',
    '7676556',
    '7672282',
    '7674343',
    '7676466',
    '7672432',
    '7671964',
    '7676669',
    '7676723',
    '7677113',
    '7672536',
    '7669820',
    '7669852',
    '7670018',
    '7678375',
    '7680652',
    '7684571',
    '7684672',
    '7681504',
    '7683906',
    '7684121',
    '7686529',
    '7716234',
    '7716448',
    '7717379',
    '7716650',
    '7716956',
    '7717318',
    '7717333',
    '7718002',
    '7718035',
    '7718077',
    '7718485',
    '7718710',
    '7718823',
    '7718846',
    '7718924',
    '7718944',
    '7720743',
    '7720836',
    '7721577',
    '7721824',
    '7721707',
    '7721770',
    '7721774',
    '7720840',
    '7720879',
    '7720968',
    '7721483',
    '7721498',
    '7723100',
    '7723409',
    '7723454',
    '7724200',
    '7724874',
    '7724926',
    '7725000',
    '7725128',
    '7725281',
    '7725436',
    '7725676',
    '7726036',
    '7726331',
    '7726430',
    '7726813',
    '7727178',
    '7727207',
    '7727220',
    '7727535',
    '7727984',
    '7728600',
    '7729941',
    '7730008',
    '7730693',
    '7731067',
    '7731452',
    '7732264',
    '7732749',
    '7732813',
    '7732873',
    '7733012',
    '7733187',
    '7733700',
    '7736103',
    '7736142',
    '7737772',
    '7737500',
    '7736193',
    '7736254',
    '7736446',
    '7738459',
    '7738460',
    '7738994',
    '7739180',
    '7739494',
    '7739836',
    '7742827',
    '7743692',
    '7744832',
    '7744972',
    '7743973',
    '7744108',
    '7745781',
    '7744613',
    '7744690',
    '7745903',
    '7745941',
    '7745950',
    '7747480',
    '7747649',
    '7747768',
    '7747821',
    '7749133',
    '7749944',
    '7750184',
    '7753402',
    '7753580',
    '7754622',
    '7754847',
    '7755441',
    '7756168',
    '7756172',
    '7756534',
    '7756570',
    '7757060',
    '7757471',
    '7757637',
    '7757870',
    '7758215',
    '7758518',
    '7759701',
    '7722845',
    '7722326',
    '7722461',
    '7722549',
    '7785493',
    '7785587',
    '7786460',
    '7787599',
    '7787914',
    '7789071',
    '7789288',
    '7789455',
    '7789463',
    '7789637',
    '7790732',
    '7792276',
    '7792935',
    '7794250',
    '7794756',
    '7796536',
    '7800671'];


const response = ['7800671',
'7796536',
'7794756',
'7794250',
'7792935',
'7790732',
'7789637',
'7789463',
'7789288',
'7789071',
'7787914',
'7786460',
'7785587',
'7758518',
'7758215',
'7757870',
'7757637',
'7757471',
'7757060',
'7756570',
'7747821',
'7747768',
'7747649',
'7747480',
'7745950',
'7745941',
'7745903',
'7745781',
'7744972',
'7744832',
'7744613',
'7744108',
'7743973',
'7743692',
'7742827',
'7739494',
'7737772',
'7736254',
'7736193',
'7736142',
'7736103',
'7733700',
'7733187',
'7733012',
'7732873',
'7732813',
'7732749',
'7732264',
'7731452',
'7731067',
'7730693',
'7730008',
'7729941',
'7728600',
'7727178',
'7726430',
'7726331',
'7725676',
'7725281',
'7725128',
'7725000',
'7723454',
'7723409',
'7722549',
'7722461',
'7722326',
'7721774',
'7721707',
'7721577',
'7721498',
'7721483',
'7720968',
'7720879',
'7720840',
'7720743',
'7718944',
'7718846',
'7718823',
'7718485',
'7716956',
'7716650',
'7716448',
'7684672',
'7684571',
'7684121',
'7683906',
'7680652',
'7678375',
'7677113',
'7676723',
'7676669',
'7676556',
'7676466',
'7674807',
'7672536',
'7672432',
'7672282',
'7671964',
'7670885',
'7670018',
'7669852',
'7669820',
'7648806',
'7648010',
'7645897',
'7645246',
'7645004',
'7642633',
'7641855',
'7641632',
'7640606',
'7640284',
'7639250',
'7638984',
'7638860',
'7635772',
'7635293',
'7633743',
'7633740',
'7632013',
'7631645',
'7630855',
'7630135',
'7629730',
'7628533',
'7624239',
'7623515',
'7622260',
'7622016',
'7617936',
'7617468',
'7617337',
'7616518',
'7555378',
'7499003',
'7498598',
'7498576',
'7498571',
'7498530',
'7498498',
'7498485',
'7498462',
'7498441',
'7498398',
'7498353',
'7498295',
'7498236',
'7498235',
'7498234',
'7498233',
'7498219',
'7498211',
'7498065',
'7497943',
'7497917',
'7497683',
'7497419',
'7497410',
'7497135',
'7497085',
'7497047',
'7497043',
'7497035',
'7496997',
'7496950',
'7496911',
'7496902',
'7496866',
'7496832',
'7496752',
'7496705',
'7496704',
'7496676',
'7495718',
'7495402',
'7495022',
'7492831',
'7480978',
'7395290',
'7394772',
'7394326',
'7394321',
'7394151',
'7392752',
'7390413',
'7387969',
'7387477',
'7387128',
'7386996',
'7386884',
'7386876',
'7386122',
'7385740',
'7385105',
'7384875',
'7383588',
'7383447',
'7383285',
'7381900',
'7381368',
'7381327',
'7380874',
'7378166',
'7378102',
'7378094',
'7377571',
'7377381',
'7360428',
'7360420',
'7058564'];


export default function process(){
    let summary = {}
    //summary.request = `Request transaction count: ${request.length}`;
    //summary.resonse = `Query response transaction count ${response.length}`;
    summary.request = request.length;
    summary.response = response.length;
    //console.log(summary);
    
    const requestSet = new Set(request);
    const responseSet = new Set(response);
    let result = Array.from(requestSet.difference(responseSet));
    summary.missing = result;
    
    //console.table(result);
    //console.log({request: summary.request, response: summary.response, missingCount : result.length}); // Set(3) { 3, 5, 7 }
    const filePath = path.resolve(__dirname, '..', 'data', 'res', 'process.txt')
    
    fs.writeFileSync(filePath, result.join('\n').toString(), 'utf-8');
}
